================================================================================
                    TODOLIST COMPL√àTE - JOBPILOT
================================================================================
Date de cr√©ation : 2026-01-24
Derni√®re mise √† jour : 2026-01-24

================================================================================
üìã PRIORIT√â CRITIQUE (√Ä FAIRE EN PREMIER)
================================================================================

[ ] S√âCURIT√â - V√©rifications de propri√©t√©
    [ ] matching/views.py:find_jobs_for_resume() - Ajouter @login_required ‚úÖ et v√©rifier que request.user == resume.user
    [ ] matching/views.py:update_match_status() - R√©activer la v√©rification user=request.user (TODO ligne 67)
    [ ] resumes/views.py:resume_list() - Ajouter @login_required (manque le d√©corateur) ‚úÖ
    [ ] resumes/views.py:delete_resume() - Ajouter @login_required (manque le d√©corateur) ‚úÖ

[ ] S√âCURIT√â - Configuration
    [ ] JobPilot/settings.py - Configurer ALLOWED_HOSTS (actuellement vide, risque en production)
    [ ] JobPilot/settings.py - Valider que SECRET_KEY existe au d√©marrage (peut √™tre None) ‚úÖ
    [ ] JobPilot/settings.py - Ajouter validation des variables d'environnement critiques au d√©marrage

[ ] CODE - Nettoyage et bonnes pratiques
    [ ] Remplacer TOUS les print() par logging (18 occurrences trouv√©es)
        - matching/views.py: 5 occurrences (lignes 26, 28, 33, 35, 37, 53)
        - dashboard/views.py: 1 occurrence (ligne 20)
        - users/views.py: 1 occurrence (ligne 16)
        - matching/services/francetravail.py: 7 occurrences (lignes 38, 41, 42, 72, 81, 107, 145)
        - resumes/services/pdf_parser.py: 1 occurrence (ligne 28)
    [ ] Retirer traceback.print_exc() de matching/views.py ligne 39 (production)
    [ ] Retirer le code de fallback utilisateur par d√©faut dans resumes/views.py:upload_resume() (lignes 19-25)
    [ ] Configurer le syst√®me de logging Django dans settings.py

[ ] FONCTIONNALIT√âS - TODOs existants
    [ ] matching/views.py:generate_cover_letter() - Impl√©menter la g√©n√©ration (TODO ligne 89)
    [ ] matching/views.py:save_generated_letter() - Impl√©menter la sauvegarde (TODO ligne 108)
    [ ] matching/views.py:edit_cover_letter() - Impl√©menter la sauvegarde (TODO ligne 122)

[ ] MOD√àLES - Cr√©ation automatique
    [ ] users/views.py:register() - Cr√©er automatiquement CandidateProfile apr√®s inscription
        Code √† ajouter apr√®s user.save():
        from .models import CandidateProfile
        CandidateProfile.objects.get_or_create(user=user)
    [] Changer la m√©thode de matching (matching par skills devient matching par contenu global (plus particuli√®rement le titre du cv))

================================================================================
üî¥ PRIORIT√â HAUTE (√Ä FAIRE BIENT√îT)
================================================================================

[ ] TEMPLATES MANQUANTS
    [ ] Cr√©er templates/matching/generate_letter.html
    [ ] Cr√©er templates/matching/edit_letter.html
    [ ] Cr√©er templates/matching/refine_letter.html

[ ] FONCTIONNALIT√âS - Actions manquantes
    [ ] matching/views.py:quick_refine_cover_letter() - G√©rer l'action 'generate' (appel√©e depuis detail.html ligne 99)
        Actuellement seulement 'improve', 'formalize', 'grammar', 'length' sont g√©r√©es
    [ ] dashboard/detail.html - Le bouton "G√©n√©rer un brouillon" appelle action='generate' mais n'est pas impl√©ment√©

[ ] PERFORMANCE - Optimisation requ√™tes DB
    [ ] dashboard/views.py:dashboard() - Optimiser les statistiques (4 requ√™tes s√©par√©es ‚Üí 1 seule avec aggregate/annotate)
        Actuellement:
        - stats['total'] = matches.count() (requ√™te 1)
        - stats['new'] = matches.filter(status='new').count() (requ√™te 2)
        - stats['seen'] = matches.filter(status='seen').count() (requ√™te 3)
        - stats['applied'] = matches.filter(status='applied').count() (requ√™te 4)
        √Ä remplacer par une seule requ√™te avec Count() et Case/When

[ ] CONFIGURATION - Settings Django
    [ ] JobPilot/settings.py - Changer TIME_ZONE de 'UTC' √† 'Europe/Paris'
    [ ] JobPilot/settings.py - Ajouter STATIC_ROOT pour collectstatic
    [ ] JobPilot/settings.py - Configurer le syst√®me de logging (LOGGING dict)
    [ ] JobPilot/settings.py - Ajouter configuration pour fichiers statiques en production

[ ] GESTION D'ERREURS
    [ ] matching/services/francetravail.py - Structurer la gestion d'erreurs API (retry logic, timeout)
    [ ] matching/services/ai_letter_generator.py - Ajouter retry logic pour appels Gemini
    [ ] matching/services/francetravail.py - Ajouter timeout pour requests.get/post
    [ ] matching/views.py:find_jobs_for_resume() - Afficher les erreurs API √† l'utilisateur (actuellement juste print)

[ ] CODE - Optimisations
    [ ] resumes/views.py:delete_resume() - R√©cup√©ration inutile de resumes ligne 51 (d√©j√† fait ligne 53)
    [ ] matching/views.py:find_jobs_for_resume() - Ajouter select_related('resume') si n√©cessaire
    [ ] dashboard/views.py - Retirer les variables de session inutilis√©es (lignes 14-16, 20) ou les utiliser

================================================================================
üü° PRIORIT√â MOYENNE (AM√âLIORATIONS)
================================================================================

[ ] CACHE ET PERFORMANCE
    [ ] matching/services/francetravail.py - Impl√©menter cache pour le token OAuth2 (√©viter de le recr√©er √† chaque appel)
    [ ] matching/services/francetravail.py - Impl√©menter cache pour les r√©sultats de recherche API (Redis/Memcached)
    [ ] matching/views.py:find_jobs_for_resume() - Cache des r√©sultats de recherche par CV

[ ] VALIDATION ET S√âCURIT√â FICHIERS
    [ ] resumes/views.py:upload_resume() - Ajouter validation de taille de fichier PDF (max 10MB recommand√©)
    [ ] resumes/views.py:upload_resume() - Ajouter validation du type MIME (v√©rifier que c'est bien un PDF)
    [ ] resumes/views.py:upload_resume() - Ajouter validation du contenu PDF (v√©rifier qu'il n'est pas corrompu)
    [ ] resumes/services/pdf_parser.py - G√©rer les PDFs scann√©s (OCR si n√©cessaire)
    [ ] Cr√©er une commande de nettoyage pour supprimer les fichiers PDF orphelins

[ ] MOD√àLES - Am√©liorations
    [ ] matching/models.py:JobMatch - Rendre resume obligatoire (retirer null=True ligne 38)
    [ ] matching/models.py:JobMatch - Ajouter validation sur score (0-100) dans clean()
    [ ] matching/models.py:JobOffer - Ajouter max_length sur description si n√©cessaire
    [ ] users/models.py:CandidateProfile - Ajouter m√©thode get_absolute_url()
    [ ] resumes/models.py:Resume - Ajouter m√©thode get_absolute_url()
    [ ] matching/models.py:JobMatch - Ajouter m√©thode get_absolute_url()
    [ ] matching/models.py:JobOffer - Ajouter m√©thode get_absolute_url()

[ ] UX/UI - Am√©liorations
    [ ] templates/users/register.html - Retirer ou impl√©menter les boutons de connexion sociale (Google, LinkedIn, GitHub)
        Actuellement juste visuels, non fonctionnels (lignes 121-134)
    [ ] templates/dashboard/detail.html - Ajouter confirmation avant suppression de lettre
    [ ] templates/resumes/list.html - Ajouter confirmation avant suppression de CV
    [ ] templates/dashboard/detail.html - Am√©liorer les messages d'erreur API (afficher √† l'utilisateur)
    [ ] templates/matching/results.html - Ajouter loading states pour les actions longues
    [ ] templates/dashboard/dashboard.html - Ajouter loading states pour les actions longues

[ ] FONCTIONNALIT√âS - Nouvelles
    [ ] Cr√©er vue et template pour √©diter le profil utilisateur (CandidateProfile)
        - Permettre de modifier t√©l√©phone, localisation, code ROME, disponibilit√©
    [ ] resumes/views.py - Ajouter fonctionnalit√© pour d√©finir un CV comme principal (is_primary)
    [ ] resumes/views.py - Ajouter vue pour voir les d√©tails d'un CV
    [ ] matching/views.py - Ajouter filtres de recherche sur le dashboard (par statut, score, date)
    [ ] matching/views.py - Ajouter tri personnalisable sur le dashboard
    [ ] Cr√©er vue pour exporter toutes les candidatures en CSV/Excel

[ ] SERVICES - Am√©liorations
    [ ] matching/services/francetravail.py - Ajouter rate limiting pour √©viter de d√©passer les quotas API
    [ ] matching/services/ai_letter_generator.py - Ajouter rate limiting pour Gemini API
    [ ] matching/services/francetravail.py - G√©rer les cas o√π l'API est down (fallback, message utilisateur)
    [ ] matching/services/ai_letter_generator.py - G√©rer les cas o√π Gemini API est down
    [ ] matching/services/ - Am√©liorer l'algorithme de matching (calculate_match_score)
        - Utiliser TF-IDF au lieu de simple intersection
        - Ponderer les comp√©tences techniques vs mots g√©n√©riques
        - Prendre en compte l'ordre des mots (bigrams, trigrams)

[ ] PDF PARSER - Am√©liorations
    [ ] resumes/services/pdf_parser.py - √âtendre la liste KNOWN_SKILLS (plus de langages, frameworks, outils)
    [ ] resumes/services/pdf_parser.py - Ajouter d√©tection d'ann√©es d'exp√©rience
    [ ] resumes/services/pdf_parser.py - Ajouter d√©tection du niveau (Junior, Senior, etc.)
    [ ] resumes/services/pdf_parser.py - Ajouter d√©tection des dipl√¥mes
    [ ] resumes/services/pdf_parser.py - Am√©liorer l'extraction de t√©l√©phone (g√©rer plus de formats)
    [ ] resumes/services/pdf_parser.py - Ajouter extraction de l'adresse

================================================================================
üü¢ PRIORIT√â BASSE (NICE TO HAVE)
================================================================================

[ ] TESTS
    [ ] Cr√©er tests unitaires pour users/views.py
    [ ] Cr√©er tests unitaires pour resumes/views.py
    [ ] Cr√©er tests unitaires pour matching/views.py
    [ ] Cr√©er tests unitaires pour dashboard/views.py
    [ ] Cr√©er tests unitaires pour matching/services/francetravail.py
    [ ] Cr√©er tests unitaires pour matching/services/ai_letter_generator.py
    [ ] Cr√©er tests unitaires pour resumes/services/pdf_parser.py
    [ ] Cr√©er tests d'int√©gration pour le flux complet (upload CV ‚Üí recherche ‚Üí g√©n√©ration lettre)
    [ ] Cr√©er tests de performance pour les requ√™tes DB
    [ ] Configurer coverage.py pour mesurer la couverture de code

[ ] DOCUMENTATION
    [ ] Ajouter docstrings compl√®tes sur toutes les fonctions
    [ ] Documenter les mod√®les avec des help_text en fran√ßais
    [ ] Cr√©er documentation API si n√©cessaire
    [ ] Mettre √† jour README.md avec les nouvelles fonctionnalit√©s
    [ ] Cr√©er guide de contribution (CONTRIBUTING.md)
    [ ] Cr√©er CHANGELOG.md pour suivre les versions

[ ] ACCESSIBILIT√â
    [ ] Ajouter attributs ARIA sur tous les boutons interactifs
    [ ] V√©rifier le contraste des couleurs (WCAG AA minimum)
    [ ] Ajouter support clavier pour toutes les actions
    [ ] Tester avec lecteurs d'√©cran

[ ] INTERNATIONALISATION
    [ ] Ajouter support multilingue (i18n) si n√©cessaire
    [ ] Externaliser tous les textes dans des fichiers de traduction

[ ] MONITORING ET LOGGING
    [ ] Configurer Sentry ou √©quivalent pour le tracking d'erreurs
    [ ] Ajouter m√©triques de performance (temps de r√©ponse, requ√™tes DB)
    [ ] Ajouter logging structur√© pour les actions importantes

[ ] S√âCURIT√â AVANC√âE
    [ ] Ajouter protection CSRF renforc√©e
    [ ] Configurer SECURE_SSL_REDIRECT pour production
    [ ] Configurer SESSION_COOKIE_SECURE pour production
    [ ] Configurer CSRF_COOKIE_SECURE pour production
    [ ] Ajouter rate limiting sur les vues sensibles (login, register)
    [ ] Impl√©menter 2FA (authentification √† deux facteurs) optionnel

[ ] OPTIMISATIONS AVANC√âES
    [ ] Impl√©menter pagination lazy loading (infinite scroll)
    [ ] Optimiser les images et assets statiques
    [ ] Impl√©menter compression gzip pour les r√©ponses HTTP
    [ ] Ajouter CDN pour les fichiers statiques en production
    [ ] Optimiser les requ√™tes avec prefetch_related o√π n√©cessaire

[ ] FONCTIONNALIT√âS AVANC√âES
    [ ] Ajouter syst√®me de notifications (email, in-app)
    [ ] Ajouter syst√®me de favoris pour les offres
    [ ] Ajouter historique des modifications de lettres de motivation
    [ ] Ajouter versioning des CVs
    [ ] Ajouter syst√®me de tags pour organiser les candidatures
    [ ] Ajouter recherche full-text sur les offres sauvegard√©es
    [ ] Ajouter export de donn√©es utilisateur (RGPD compliance)
    [ ] Ajouter fonctionnalit√© de partage de lettres de motivation
    [ ] Ajouter templates de lettres de motivation pr√©d√©finis

[ ] INT√âGRATIONS
    [ ] Impl√©menter authentification OAuth (Google, LinkedIn, GitHub)
    [ ] Int√©grer avec d'autres APIs d'emploi (APEC, Indeed, etc.)
    [ ] Ajouter int√©gration calendrier pour suivre les entretiens
    [ ] Ajouter int√©gration email pour envoyer les lettres directement

[ ] ADMIN DJANGO
    [ ] Personnaliser l'interface admin Django
    [ ] Ajouter actions personnalis√©es dans l'admin
    [ ] Ajouter filtres personnalis√©s dans l'admin
    [ ] Ajouter exports CSV/Excel depuis l'admin

[ ] DOCKER ET D√âPLOIEMENT
    [ ] Optimiser le Dockerfile
    [ ] Cr√©er docker-compose.yml pour production
    [ ] Ajouter health checks dans docker-compose
    [ ] Cr√©er script de d√©ploiement automatis√©
    [ ] Configurer CI/CD (GitHub Actions, GitLab CI, etc.)

[ ] BASE DE DONN√âES
    [ ] Cr√©er index sur les champs fr√©quemment recherch√©s
    [ ] Ajouter migrations pour optimiser les requ√™tes
    [ ] Impl√©menter full-text search PostgreSQL pour les descriptions d'offres
    [ ] Ajouter contraintes de base de donn√©es suppl√©mentaires

[ ] PDF GENERATOR - Am√©liorations
    [ ] matching/services/ai_letter_generator.py:export_to_pdf() - Ajouter en-t√™te avec coordonn√©es utilisateur
    [ ] matching/services/ai_letter_generator.py:export_to_pdf() - Ajouter pied de page avec date
    [ ] matching/services/ai_letter_generator.py:export_to_pdf() - Am√©liorer le formatage (polices, espacements)
    [ ] matching/services/ai_letter_generator.py:export_to_pdf() - Ajouter support pour logo entreprise
    [ ] matching/services/ai_letter_generator.py:export_to_pdf() - Ajouter watermark optionnel

[ ] ALGORITHME DE MATCHING - Am√©liorations avanc√©es
    [ ] Utiliser machine learning pour am√©liorer le scoring
    [ ] Prendre en compte les comp√©tences soft skills
    [ ] Prendre en compte la localisation g√©ographique
    [ ] Prendre en compte le type de contrat souhait√©
    [ ] Ajouter syst√®me de feedback utilisateur pour am√©liorer l'algorithme

================================================================================
üìù NOTES ET OBSERVATIONS
================================================================================

- Le mod√®le AILetterGenerator utilise 'gemini-2.5-flash' mais devrait v√©rifier 
  la disponibilit√© du mod√®le
- Le syst√®me de session stocke beaucoup de donn√©es qui pourraient √™tre r√©cup√©r√©es 
  √† la demande (optimisation m√©moire)
- Les boutons de connexion sociale dans register.html sont d√©coratifs mais 
  non fonctionnels - d√©cision √† prendre: retirer ou impl√©menter
- L'algorithme de matching est tr√®s basique (intersection de mots) - 
  am√©lioration prioritaire pour la qualit√© du service
- Pas de gestion de quota API visible - risque de d√©passement de limites
- Le PDF parser a une liste limit√©e de comp√©tences - √† √©tendre significativement

================================================================================
‚úÖ STATISTIQUES
================================================================================

Total des t√¢ches identifi√©es : ~150+
- Priorit√© Critique : 15
- Priorit√© Haute : 20
- Priorit√© Moyenne : 35
- Priorit√© Basse : 80+

Temps estim√© total : ~200-300 heures de d√©veloppement

================================================================================
FIN DE LA TODOLIST
================================================================================
